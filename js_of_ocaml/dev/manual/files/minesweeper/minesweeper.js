
// Generated by js_of_ocaml 2.7
(function(p)
   {"use strict";
    var
     a5=254,
     aJ="x",
     aK="Sys_error",
     aX=224,
     aU=65535,
     a4="Invalid_argument",
     aP='"',
     I=1073741823,
     aW=250,
     A=1024,
     aI="sprites/normal.png",
     aO="jsError",
     a3="sprites/flag.png",
     aD="input",
     aH=57343,
     aT=785140586,
     G="int_of_string",
     aa="sprites/bomb.png",
     a2=512,
     aG=982028505,
     aN="End_of_file",
     aM="Failure",
     az="Undefined_recursive_module",
     aA=0.001,
     aC="Stack_overflow",
     f="",
     l=128,
     aE=240,
     aF=2048,
     aS=56320,
     _=" : file already exists",
     a=248,
     aB="Not_found",
     aQ="Assert_failure",
     aR="/",
     a0="Sys_blocked_io",
     a1="fd ",
     aZ="Out_of_memory",
     aV="Match_failure",
     aY="index out of bounds",
     aL="Division_by_zero",
     $=1e3;
    function ah(a,b,c)
     {var e=new Array(c);for(var d=0;d<c;d++)e[d]=a[b+d];return e}
    function ag(a,b,c)
     {var d=String.fromCharCode;
      if(b==0&&c<=4096&&c==a.length)return d.apply(null,a);
      var e=f;
      for(;0<c;b+=A,c-=A)e+=d.apply(null,ah(a,b,Math.min(c,A)));
      return e}
    function a6(a)
     {var c=new Array(a.l),e=a.c,d=e.length,b=0;
      for(;b<d;b++)c[b]=e.charCodeAt(b);
      for(d=a.l;b<d;b++)c[b]=0;
      a.c=c;
      a.t=4;
      return c}
    function H(a,b,c,d,e)
     {if(e==0)return 0;
      if(d==0&&(e>=c.l||c.t==2&&e>=c.c.length))
       {c.c=a.t==4?ag(a.c,b,e):b==0&&a.c.length==e?a.c:a.c.substr(b,e);
        c.t=c.c.length==c.l?0:2}
      else
       if(c.t==2&&d==c.c.length)
        {c.c+=a.t==4?ag(a.c,b,e):b==0&&a.c.length==e?a.c:a.c.substr(b,e);
         c.t=c.c.length==c.l?0:2}
       else
        {if(c.t!=4)a6(c);
         var g=a.c,h=c.c;
         if(a.t==4)
          for(var f=0;f<e;f++)h[d+f]=g[b+f];
         else
          {var i=Math.min(e,g.length-b);
           for(var f=0;f<i;f++)h[d+f]=g.charCodeAt(b+f);
           for(;f<e;f++)h[d+f]=0}}
      return 0}
    function ch(a,b)
     {var e=a.length,d=new Array(e+1),c=0;
      for(;c<e;c++)d[c]=a[c];
      d[c]=b;
      return d}
    function J(c,b)
     {if(c.fun)return J(c.fun,b);
      var a=c.length,d=b.length,e=a-d;
      if(e==0)
       return c.apply(null,b);
      else
       if(e<0)
        return J(c.apply(null,ah(b,0,a)),ah(b,a,d-a));
       else
        return function(a){return J(c,ch(b,a))}}
    function b3(a,b){throw [0,a,b]}
    function b6(a,b)
     {if(b.repeat)return b.repeat(a);
      var c=f,d=0;
      if(a==0)return c;
      for(;;)
       {if(a&1)c+=b;a>>=1;if(a==0)return c;b+=b;d++;if(d==9)b.slice(0,1)}}
    function B(a)
     {if(a.t==2)a.c+=b6(a.l-a.c.length,"\0");else a.c=ag(a.c,0,a.c.length);
      a.t=0}
    function a7(a)
     {if(a.length<24)
       {for(var b=0;b<a.length;b++)if(a.charCodeAt(b)>127)return false;
        return true}
      else
       return !/[^\x00-\x7f]/.test(a)}
    function cc(a)
     {for(var k=f,d=f,h,g,i,b,c=0,j=a.length;c<j;c++)
       {g=a.charCodeAt(c);
        if(g<l)
         {for(var e=c+1;e<j&&(g=a.charCodeAt(e))<l;e++);
          if(e-c>a2)
           {d.substr(0,1);k+=d;d=f;k+=a.slice(c,e)}
          else
           d+=a.slice(c,e);
          if(e==j)break;
          c=e}
        b=1;
        if(++c<j&&((i=a.charCodeAt(c))&-64)==l)
         {h=i+(g<<6);
          if(g<aX)
           {b=h-12416;if(b<l)b=1}
          else
           {b=2;
            if(++c<j&&((i=a.charCodeAt(c))&-64)==l)
             {h=i+(h<<6);
              if(g<aE)
               {b=h-925824;if(b<aF||b>=55295&&b<57344)b=2}
              else
               {b=3;
                if(++c<j&&((i=a.charCodeAt(c))&-64)==l&&g<245)
                 {b=i-63447168+(h<<6);if(b<65536||b>1114111)b=3}}}}}
        if(b<4)
         {c-=b;d+="\ufffd"}
        else
         if(b>aU)
          d+=String.fromCharCode(55232+(b>>10),aS+(b&1023));
         else
          d+=String.fromCharCode(b);
        if(d.length>A){d.substr(0,1);k+=d;d=f}}
      return k+d}
    function cb(a)
     {switch(a.t)
       {case 9:return a.c;
        default:B(a);case 0:
         if(a7(a.c)){a.t=9;return a.c}a.t=8;
        case 8:return cc(a.c)
        }}
    function i(a,b,c){this.t=a;this.c=b;this.l=c}
    i.prototype.toString=function(){return cb(this)};
    function c(a){return new i(0,a,a.length)}
    function af(a,b){b3(a,c(b))}
    var e=[0];
    function v(a){af(e.Invalid_argument,a)}
    function bI(){v(aY)}
    function d(a,b){if(b>>>0>=a.length-1)bI();return a}
    function bQ(a,b)
     {var c=a[3]<<16,d=b[3]<<16;
      if(c>d)return 1;
      if(c<d)return -1;
      if(a[2]>b[2])return 1;
      if(a[2]<b[2])return -1;
      if(a[1]>b[1])return 1;
      if(a[1]<b[1])return -1;
      return 0}
    function bR(a,b){if(a<b)return -1;if(a==b)return 0;return 1}
    function b8(a,b){a.t&6&&B(a);b.t&6&&B(b);return a.c<b.c?-1:a.c>b.c?1:0}
    function ab(a,b,c)
     {var e=[];
      for(;;)
       {if(!(c&&a===b))
         if(a instanceof i)
          if(b instanceof i)
           {if(a!==b){var d=b8(a,b);if(d!=0)return d}}
          else
           return 1;
         else
          if(a instanceof Array&&a[0]===(a[0]|0))
           {var f=a[0];
            if(f===a5)f=0;
            if(f===aW)
             {a=a[1];continue}
            else
             if(b instanceof Array&&b[0]===(b[0]|0))
              {var g=b[0];
               if(g===a5)g=0;
               if(g===aW)
                {b=b[1];continue}
               else
                if(f!=g)
                 return f<g?-1:1;
                else
                 switch(f)
                  {case 248:var d=bR(a[2],b[2]);if(d!=0)return d;break;
                   case 251:v("equal: abstract value");
                   case 255:var d=bQ(a,b);if(d!=0)return d;break;
                   default:
                    if(a.length!=b.length)return a.length<b.length?-1:1;
                    if(a.length>1)e.push(a,b,1)}}
             else
              return 1}
          else
           if(b instanceof i||b instanceof Array&&b[0]===(b[0]|0))
            return -1;
           else
            if(typeof a!="number"&&a&&a.compare)
             return a.compare(b,c);
            else
             if(typeof a=="function")
              v("equal: functional value");
             else
              {if(a<b)return -1;
               if(a>b)return 1;
               if(a!=b){if(!c)return NaN;if(a==a)return 1;if(b==b)return -1}}
        if(e.length==0)return 0;
        var h=e.pop();
        b=e.pop();
        a=e.pop();
        if(h+1<a.length)e.push(a,b,h+1);
        a=a[h];
        b=b[h]}}
    function bK(a,b){return ab(a,b,true)}
    function r(a){if(a<0)v("String.create");return new i(a?2:9,f,a)}
    function b2(a){throw a}
    function bb(){b2(e.Division_by_zero)}
    function bM(a,b){if(b==0)bb();return a/b|0}
    function bO(a,b){return +(ab(a,b,false)>=0)}
    function x(a,b)
     {switch(a.t&6)
       {default:if(b>=a.c.length)return 0;case 0:return a.c.charCodeAt(b);
        case 4:return a.c[b]
        }}
    function o(a){return a.l}
    function b1(a)
     {var b=0,d=o(a),c=10,e=d>0&&x(a,0)==45?(b++,-1):1;
      if(b+1<d&&x(a,b)==48)
       switch(x(a,b+1))
        {case 120:
         case 88:c=16;b+=2;break;
         case 111:
         case 79:c=8;b+=2;break;
         case 98:
         case 66:c=2;b+=2;break
         }
      return [b,e,c]}
    function a$(a)
     {if(a>=48&&a<=57)return a-48;
      if(a>=65&&a<=90)return a-55;
      if(a>=97&&a<=122)return a-87;
      return -1}
    function K(a){af(e.Failure,a)}
    function bS(a)
     {var h=b1(a),d=h[0],i=h[1],e=h[2],g=o(a),j=-1>>>0,f=d<g?x(a,d):0,c=a$(f);
      if(c<0||c>=e)K(G);
      var b=c;
      for(d++;d<g;d++)
       {f=x(a,d);
        if(f==95)continue;
        c=a$(f);
        if(c<0||c>=e)break;
        b=e*b+c;
        if(b>j)K(G)}
      if(d!=g)K(G);
      b=i*b;
      if(e==10&&(b|0)!=b)K(G);
      return b|0}
    var L={amp:/&/g,lt:/</g,quot:/\"/g,all:/[&<\"]/};
    function a8(a)
     {if(!L.all.test(a))return a;
      return a.replace(L.amp,"&amp;").replace(L.lt,"&lt;").replace
              (L.quot,"&quot;")}
    function cd(a)
     {for(var g=f,c=g,b,i,d=0,h=a.length;d<h;d++)
       {b=a.charCodeAt(d);
        if(b<l)
         {for(var e=d+1;e<h&&(b=a.charCodeAt(e))<l;e++);
          if(e-d>a2)
           {c.substr(0,1);g+=c;c=f;g+=a.slice(d,e)}
          else
           c+=a.slice(d,e);
          if(e==h)break;
          d=e}
        if(b<aF)
         {c+=String.fromCharCode(192|b>>6);c+=String.fromCharCode(l|b&63)}
        else
         if(b<55296||b>=aH)
          c+=String.fromCharCode(aX|b>>12,l|b>>6&63,l|b&63);
         else
          if(b>=56319||d+1==h||(i=a.charCodeAt(d+1))<aS||i>aH)
           c+="\xef\xbf\xbd";
          else
           {d++;
            b=(b<<10)+i-56613888;
            c+=String.fromCharCode(aE|b>>18,l|b>>12&63,l|b>>6&63,l|b&63)}
        if(c.length>A){c.substr(0,1);g+=c;c=f}}
      return g+c}
    function M(a){var b=9;if(!a7(a))b=8,a=cd(a);return new i(b,a,a.length)}
    function bT(a,b){return +(ab(a,b,false)<=0)}
    function O(a,b)
     {var a=a+1|0,c=new Array(a);c[0]=0;for(var d=1;d<a;d++)c[d]=b;return c}
    function bd(a){return new i(4,a,a.length)}
    var
     bU=
      function()
        {function n(a,b){return a+b|0}
         function m(a,b,c,d,e,f){b=n(n(b,a),n(d,f));return n(b<<e|b>>>32-e,c)}
         function h(a,b,c,d,e,f,g){return m(b&c|~b&d,a,b,e,f,g)}
         function i(a,b,c,d,e,f,g){return m(b&d|c&~d,a,b,e,f,g)}
         function j(a,b,c,d,e,f,g){return m(b^c^d,a,b,e,f,g)}
         function k(a,b,c,d,e,f,g){return m(c^(b|~d),a,b,e,f,g)}
         function o(a,b)
          {var g=b;
           a[g>>2]|=l<<8*(g&3);
           for(g=(g&~3)+8;(g&63)<60;g+=4)a[(g>>2)-1]=0;
           a[(g>>2)-1]=b<<3;
           a[g>>2]=b>>29&536870911;
           var m=[1732584193,4023233417,2562383102,271733878];
           for(g=0;g<a.length;g+=16)
            {var c=m[0],d=m[1],e=m[2],f=m[3];
             c=h(c,d,e,f,a[g+0],7,3614090360);
             f=h(f,c,d,e,a[g+1],12,3905402710);
             e=h(e,f,c,d,a[g+2],17,606105819);
             d=h(d,e,f,c,a[g+3],22,3250441966);
             c=h(c,d,e,f,a[g+4],7,4118548399);
             f=h(f,c,d,e,a[g+5],12,1200080426);
             e=h(e,f,c,d,a[g+6],17,2821735955);
             d=h(d,e,f,c,a[g+7],22,4249261313);
             c=h(c,d,e,f,a[g+8],7,1770035416);
             f=h(f,c,d,e,a[g+9],12,2336552879);
             e=h(e,f,c,d,a[g+10],17,4294925233);
             d=h(d,e,f,c,a[g+11],22,2304563134);
             c=h(c,d,e,f,a[g+12],7,1804603682);
             f=h(f,c,d,e,a[g+13],12,4254626195);
             e=h(e,f,c,d,a[g+14],17,2792965006);
             d=h(d,e,f,c,a[g+15],22,1236535329);
             c=i(c,d,e,f,a[g+1],5,4129170786);
             f=i(f,c,d,e,a[g+6],9,3225465664);
             e=i(e,f,c,d,a[g+11],14,643717713);
             d=i(d,e,f,c,a[g+0],20,3921069994);
             c=i(c,d,e,f,a[g+5],5,3593408605);
             f=i(f,c,d,e,a[g+10],9,38016083);
             e=i(e,f,c,d,a[g+15],14,3634488961);
             d=i(d,e,f,c,a[g+4],20,3889429448);
             c=i(c,d,e,f,a[g+9],5,568446438);
             f=i(f,c,d,e,a[g+14],9,3275163606);
             e=i(e,f,c,d,a[g+3],14,4107603335);
             d=i(d,e,f,c,a[g+8],20,1163531501);
             c=i(c,d,e,f,a[g+13],5,2850285829);
             f=i(f,c,d,e,a[g+2],9,4243563512);
             e=i(e,f,c,d,a[g+7],14,1735328473);
             d=i(d,e,f,c,a[g+12],20,2368359562);
             c=j(c,d,e,f,a[g+5],4,4294588738);
             f=j(f,c,d,e,a[g+8],11,2272392833);
             e=j(e,f,c,d,a[g+11],16,1839030562);
             d=j(d,e,f,c,a[g+14],23,4259657740);
             c=j(c,d,e,f,a[g+1],4,2763975236);
             f=j(f,c,d,e,a[g+4],11,1272893353);
             e=j(e,f,c,d,a[g+7],16,4139469664);
             d=j(d,e,f,c,a[g+10],23,3200236656);
             c=j(c,d,e,f,a[g+13],4,681279174);
             f=j(f,c,d,e,a[g+0],11,3936430074);
             e=j(e,f,c,d,a[g+3],16,3572445317);
             d=j(d,e,f,c,a[g+6],23,76029189);
             c=j(c,d,e,f,a[g+9],4,3654602809);
             f=j(f,c,d,e,a[g+12],11,3873151461);
             e=j(e,f,c,d,a[g+15],16,530742520);
             d=j(d,e,f,c,a[g+2],23,3299628645);
             c=k(c,d,e,f,a[g+0],6,4096336452);
             f=k(f,c,d,e,a[g+7],10,1126891415);
             e=k(e,f,c,d,a[g+14],15,2878612391);
             d=k(d,e,f,c,a[g+5],21,4237533241);
             c=k(c,d,e,f,a[g+12],6,1700485571);
             f=k(f,c,d,e,a[g+3],10,2399980690);
             e=k(e,f,c,d,a[g+10],15,4293915773);
             d=k(d,e,f,c,a[g+1],21,2240044497);
             c=k(c,d,e,f,a[g+8],6,1873313359);
             f=k(f,c,d,e,a[g+15],10,4264355552);
             e=k(e,f,c,d,a[g+6],15,2734768916);
             d=k(d,e,f,c,a[g+13],21,1309151649);
             c=k(c,d,e,f,a[g+4],6,4149444226);
             f=k(f,c,d,e,a[g+11],10,3174756917);
             e=k(e,f,c,d,a[g+2],15,718787259);
             d=k(d,e,f,c,a[g+9],21,3951481745);
             m[0]=n(c,m[0]);
             m[1]=n(d,m[1]);
             m[2]=n(e,m[2]);
             m[3]=n(f,m[3])}
           var p=new Array(16);
           for(var g=0;g<4;g++)for(var o=0;o<4;o++)p[g*4+o]=m[g]>>8*o&255;
           return p}
         return function(a,b,c)
          {var h=[];
           switch(a.t&6)
            {default:B(a);case 0:
              var g=a.c;
              for(var d=0;d<c;d+=4)
               {var e=d+b;
                h[d>>2]=
                g.charCodeAt(e)|
                g.charCodeAt(e+1)<<
                8|
                g.charCodeAt(e+2)<<
                16|
                g.charCodeAt(e+3)<<
                24}
              for(;d<c;d++)h[d>>2]|=g.charCodeAt(d+b)<<8*(d&3);
              break;
             case 4:
              var f=a.c;
              for(var d=0;d<c;d+=4)
               {var e=d+b;h[d>>2]=f[e]|f[e+1]<<8|f[e+2]<<16|f[e+3]<<24}
              for(;d<c;d++)h[d>>2]|=f[d+b]<<8*(d&3)
             }
           return bd(o(h,c))}}
       ();
    function k(a){af(e.Sys_error,a)}
    function bV(a)
     {if(!a.opened)k("Cannot flush a closed channel");
      if(a.buffer==f)return 0;
      if(a.output)
       switch(a.output.length)
        {case 2:a.output(a,a.buffer);break;default:a.output(a.buffer)}
      a.buffer=f;
      return 0}
    var be=0;
    function ci(){return new Date().getTime()/$}
    function ai(){return Math.floor(ci())}
    function n(a)
     {this.data=a;
      this.inode=be++;
      var b=ai();
      this.atime=b;
      this.mtime=b;
      this.ctime=b}
    n.prototype=
    {truncate:function(){this.data=r(0);this.modified()},
     modified:function(){var a=ai();this.atime=a;this.mtime=a}};
    function ba(a)
     {a=a instanceof i?a.toString():a;k(a+": No such file or directory")}
    var bL=aR;
    function N(a)
     {a=a instanceof i?a.toString():a;
      if(a.charCodeAt(0)!=47)a=bL+a;
      var d=a.split(aR),b=[];
      for(var c=0;c<d.length;c++)
       switch(d[c])
        {case "..":if(b.length>1)b.pop();break;
         case ".":break;
         case "":if(b.length==0)b.push(f);break;
         default:b.push(d[c]);break}
      b.orig=a;
      return b}
    function q()
     {this.content={};
      this.inode=be++;
      var a=ai();
      this.atime=a;
      this.mtime=a;
      this.ctime=a}
    q.prototype=
    {exists:function(a){return this.content[a]?1:0},
     mk:function(a,b){this.content[a]=b},
     get:function(a){return this.content[a]},
     list:function(){var a=[];for(var b in this.content)a.push(b);return a},
     remove:function(a){delete this.content[a]}};
    var Q=new q();
    Q.mk(f,new q());
    function ac(a)
     {var b=Q;
      for(var c=0;c<a.length;c++)
       {if(!(b.exists&&b.exists(a[c])))ba(a.orig);b=b.get(a[c])}
      return b}
    function b$(a){var c=N(a),b=ac(c);return b instanceof q?1:0}
    function cj(a){if(a.t!=4)a6(a);return a.c}
    function bN(a,b)
     {var f=N(a),d=Q;
      for(var g=0;g<f.length-1;g++)
       {var e=f[g];
        if(!d.exists(e))d.mk(e,new q());
        d=d.get(e);
        if(!(d instanceof q))k(f.orig+_)}
      var e=f[f.length-1];
      if(d.exists(e))k(f.orig+_);
      if(b instanceof q)
       d.mk(e,b);
      else
       if(b instanceof n)
        d.mk(e,b);
       else
        if(b instanceof i)
         d.mk(e,new n(b));
        else
         if(b instanceof Array)
          d.mk(e,new n(bd(b)));
         else
          if(b.toString)
           d.mk(e,new n(c(b.toString())));
          else
           v("caml_fs_register");
      return 0}
    function b_(a)
     {var b=Q,d=N(a),e,f;
      for(var c=0;c<d.length;c++)
       {if(b.auto){e=b.auto;f=c}
        if(!(b.exists&&b.exists(d[c])))return e?e(d,f):0;
        b=b.get(d[c])}
      return 1}
    function C(a,b,c)
     {if(e.fds===undefined)e.fds=new Array();
      c=c?c:{};
      var d={};
      d.file=b;
      d.offset=c.append?o(b.data):0;
      d.flags=c;
      e.fds[a]=d;
      e.fd_last_idx=a;
      return a}
    function ck(a,b,c)
     {var d={};
      while(b)
       {switch(b[1])
         {case 0:d.rdonly=1;break;
          case 1:d.wronly=1;break;
          case 2:d.append=1;break;
          case 3:d.create=1;break;
          case 4:d.truncate=1;break;
          case 5:d.excl=1;break;
          case 6:d.binary=1;break;
          case 7:d.text=1;break;
          case 8:d.nonblock=1;break
          }
        b=b[2]}
      var g=a.toString(),i=N(a);
      if(d.rdonly&&d.wronly)
       k(g+" : flags Open_rdonly and Open_wronly are not compatible");
      if(d.text&&d.binary)
       k(g+" : flags Open_text and Open_binary are not compatible");
      if(b_(a))
       {if(b$(a))k(g+" : is a directory");
        if(d.create&&d.excl)k(g+_);
        var h=e.fd_last_idx?e.fd_last_idx:0,f=ac(i);
        if(d.truncate)f.truncate();
        return C(h+1,f,d)}
      else
       if(d.create)
        {var h=e.fd_last_idx?e.fd_last_idx:0;
         bN(a,r(0));
         var f=ac(i);
         return C(h+1,f,d)}
       else
        ba(a)}
    C(0,new n(r(0)));
    C(1,new n(r(0)));
    C(2,new n(r(0)));
    function bW(a)
     {var b=e.fds[a];
      if(b.flags.wronly)k(a1+a+" is writeonly");
      return {file:b.file,offset:b.offset,fd:a,opened:true,refill:null}}
    function cf(a)
     {var b=p;
      if(b.process&&b.process.stdout&&b.process.stdout.write)
       b.process.stderr.write(a);
      else
       {if(a.charCodeAt(a.length-1)==10)a=a.substr(0,a.length-1);
        var c=b.console;
        c&&c.error&&c.error(a)}}
    function cg(a)
     {var b=p;
      if(b.process&&b.process.stdout&&b.process.stdout.write)
       b.process.stdout.write(a);
      else
       {if(a.charCodeAt(a.length-1)==10)a=a.substr(0,a.length-1);
        var c=b.console;
        c&&c.log&&c.log(a)}}
    var P=new Array();
    function b5(a,b)
     {var h=c(b),d=o(h),g=o(a.file.data),f=a.offset;
      if(f+d>=g)
       {var e=r(f+d);H(a.file.data,0,e,0,g);H(h,0,e,f,d);a.file.data=e}
      a.offset+=d;
      a.file.modified();
      return 0}
    function a9(a)
     {var b;
      switch(a){case 1:b=cg;break;case 2:b=cf;break;default:b=b5}
      var d=e.fds[a];
      if(d.flags.rdonly)k(a1+a+" is readonly");
      var c={file:d.file,offset:d.offset,fd:a,opened:true,buffer:f,output:b};
      P[c.fd]=c;
      return c}
    function bX(){var a=0;for(var b in P)if(P[b].opened)a=[0,P[b],a];return a}
    function ad(a,b){if(b==0)bb();return a%b}
    if(!Math.imul)
     Math.imul=function(a,b){b|=0;return ((a>>16)*b<<16)+(a&aU)*b|0};
    var ae=Math.imul;
    function bZ(a){return a instanceof Array?a[0]:a instanceof i?252:$}
    function b(a,b,c){e[a+1]=b;if(c)e[c]=b}
    var a_={};
    function bJ(a){if((a.t&6)!=0)B(a);return a.c}
    function b4(a,b){a_[bJ(a)]=b;return 0}
    var b0=0;
    function w(a){a[2]=b0++;return a}
    function b7(){v(aY)}
    function R(a,b){if(b>>>0>=a.l)b7();return x(a,b)}
    function b9(){return 32}
    var bP=new Date()*aA;
    function ca(){return new Date()*aA-bP}
    function bc(a){return a}
    function bY(a){return a_[a]}
    function ce(a)
     {if(a instanceof Array)return a;
      if
       (p.RangeError&&
        a instanceof p.RangeError&&
        a.message&&
        a.message.match(/maximum call stack/i))
       return bc(e.Stack_overflow);
      if
       (p.InternalError&&
        a instanceof p.InternalError&&
        a.message&&
        a.message.match(/too much recursion/i))
       return bc(e.Stack_overflow);
      if(a instanceof p.Error)return [0,bY(aO),a];
      return [0,e.Failure,M(String(a))]}
    function z(a,b){return a.length==1?a(b):J(a,[b])}
    var S=[a,c(a4),-4],ak=[a,c(aQ),-11],au=[0,10,10,15];
    b(11,[a,c(az),-12],az);
    b(10,ak,aQ);
    b(9,[a,c(a0),-10],a0);
    b(8,[a,c(aC),-9],aC);
    b(7,[a,c(aV),-8],aV);
    b(6,[a,c(aB),-7],aB);
    b(5,[a,c(aL),-6],aL);
    b(4,[a,c(aN),-5],aN);
    b(3,S,a4);
    b(2,[a,c(aM),-3],aM);
    b(1,[a,c(aK),-2],aK);
    b(0,[a,c(aZ),-1],aZ);
    w([a,c("Pervasives.Exit"),0]);
    var
     bg=c("Array.Bottom"),
     bi=c("Sys.Break"),
     bj=c("CamlinternalFormat.Type_mismatch"),
     bl=c("Random.int"),
     bk=c(aJ),
     bm=
      [0,
       987910699,
       495797812,
       364182224,
       414272206,
       318284740,
       990407751,
       383018966,
       270373319,
       840823159,
       24560019,
       536292337,
       512266505,
       189156120,
       730249596,
       143776328,
       51606627,
       140166561,
       366354223,
       1003410265,
       700563762,
       981890670,
       913149062,
       526082594,
       1021425055,
       784300257,
       667753350,
       630144451,
       949649812,
       48546892,
       415514493,
       258888527,
       511570777,
       89983870,
       283659902,
       308386020,
       242688715,
       482270760,
       865188196,
       1027664170,
       207196989,
       193777847,
       619708188,
       671350186,
       149669678,
       257044018,
       87658204,
       558145612,
       183450813,
       28133145,
       901332182,
       710253903,
       510646120,
       652377910,
       409934019,
       801085050],
     bp=c("Js.Error"),
     bv=c("img"),
     bu=c("br"),
     bt=c("div"),
     bs=c(aD),
     bw=c("Dom_html.Canvas_not_available"),
     by=c(a3),
     bz=c(aa),
     bA=c("sprites/empty.png"),
     bB=c(".png"),
     bC=c("sprites/"),
     bD=c(aI),
     bx=[0,0,0],
     bE=[0,c("main.ml"),42,17],
     bF=c("Number of columns"),
     bG=c("Number of rows"),
     bH=c("Number of mines");
    function D(a,b){return bO(a,b)?a:b}
    function T(a,b)
     {var c=o(a),e=o(b),d=r(c+e|0);H(a,0,d,0,c);H(b,0,d,c,e);return d}
    function U(a,b){if(a){var c=a[1];return [0,c,U(a[2],b)]}return b}
    bW(0);
    a9(1);
    a9(2);
    function aj(a,b,c)
     {var e=O(a,[0]),f=a-1|0,g=0;
      if(!(f<0))
       {var d=g;
        for(;;){e[d+1]=O(b,c);var h=d+1|0;if(f!==d){var d=h;continue}break}}
      return e}
    w([a,bg,0]);
    function al(a)
     {var b=a,c=0;
      for(;;){if(b){var d=[0,b[1],c],b=b[2],c=d;continue}return c}}
    function V(a,b)
     {var c=b;for(;;){if(c){var d=c[2];z(a,c[1]);var c=d;continue}return 0}}
    w([a,bi,0]);
    w([a,bj,0]);
    var am=[0,0],bh=b9(0);
    function an(a){am[1]=[0,a,am[1]];return 0}
    32===bh;
    var
     h=[0,bm.slice(),0],
     m=p,
     ao=null,
     s=false,
     ap=m.Array,
     aq=w([a,bp,0]),
     W=[0,aq,{}],
     bo=undefined,
     bn=bZ(W)===a?W:W[1];
    b4(c(aO),bn);
    (function(a){throw a});
    an(function(a){return a[1]===aq?[0,M(a[2].toString())]:0});
    an(function(a){return a instanceof ap?0:[0,M(a.toString())]});
    function g(a,b){a.appendChild(b);return 0}
    function t(c)
     {return function(a)
       {if(1-(a==ao?1:0)){var d=z(c,a);if(!(d|0))a.preventDefault();return d}
        var e=event,b=z(c,e);
        if(!(b|0))e.returnValue=b;
        return b}}
    var bq=m.document;
    function E(a,b){return a?z(b,a[1]):0}
    function X(a,b){return a.createElement(b.toString())}
    function Y(a,b){return X(a,b)}
    var ar=[0,aT];
    function br(a,b,c,d)
     {for(;;)
       {if(0===a)if(0===b)return X(c,d);
        var h=ar[1];
        if(aT===h)
         {try
           {var
             j=bq.createElement('<input name="x">'),
             k=j.tagName.toLowerCase()===aD?1:0,
             m=k?j.name===aJ?1:0:k,
             i=m}
          catch(f){var i=0}
          var l=i?aG:-1003883683;
          ar[1]=l;
          continue}
        if(aG<=h)
         {var e=new ap();
          e.push("<",d.toString());
          E(a,function(a){e.push(' type="',a8(a),aP);return 0});
          E(b,function(a){e.push(' name="',a8(a),aP);return 0});
          e.push(">");
          return c.createElement(e.join(f))}
        var g=X(c,d);
        E(a,function(a){return g.type=a});
        E(b,function(a){return g.name=a});
        return g}}
    function as(a,b,c){return br(a,b,c,bs)}
    function y(a){return Y(a,bu)}
    function at(a){return Y(a,bv)}
    w([a,bw,0]);
    m.HTMLElement===bo;
    var u=m.document;
    function av(a,b)
     {var e=a[1]-1|0,g=0;
      if(!(e<0))
       {var c=g;
        for(;;)
         {var f=a[2]-1|0,h=0;
          if(!(f<0))
           {var d=h;
            for(;;){z(b,[0,c,d]);var j=d+1|0;if(f!==d){var d=j;continue}break}}
          var i=c+1|0;
          if(e!==c){var c=i;continue}
          break}}
      return 0}
    function aw(a,b)
     {var
       c=b[2],
       d=b[1],
       f=0,
       e=
        [0,
         [0,d-1|0,c-1|0],
         [0,
          [0,d-1|0,c],
          [0,
           [0,d-1|0,c+1|0],
           [0,
            [0,d,c-1|0],
            [0,
             [0,d,c+1|0],
             [0,[0,d+1|0,c-1|0],[0,[0,d+1|0,c],[0,[0,d+1|0,c+1|0],0]]]]]]]];
      for(;;)
       {if(e)
         {var i=e[2],g=e[1],j=g[2],k=g[1],l=0<=k?1:0;
          if(l)
           {var m=k<a[1]?1:0;
            if(m)var n=0<=j?1:0,h=n?j<a[2]?1:0:n;else var h=m}
          else
           var h=l;
          if(h){var f=[0,g,f],e=i;continue}
          var e=i;
          continue}
        return al(f)}}
    function F(a,b)
     {var d=b[3]?by:b[1]?bz:b[2]?0===b[4]?bA:T(bC,T(c(f+b[4]),bB)):bD;
      return a.src=d.toString()}
    function ax(a)
     {var e=a[3][2]-1|0,g=0;
      if(!(e<0))
       {var b=g;
        for(;;)
         {var f=a[3][1]-1|0,h=0;
          if(!(f<0))
           {var c=h;
            for(;;)
             {var j=d(d(a[1],c)[c+1],b)[b+1];
              F(d(d(a[2],b)[b+1],c)[c+1],j);
              var k=c+1|0;
              if(f!==c){var c=k;continue}
              break}}
          var i=b+1|0;
          if(e!==b){var b=i;continue}
          break}}
      return 0}
    function ay(a)
     {var e=a[3][2]-1|0,g=0;
      if(!(e<0))
       {var b=g;
        for(;;)
         {var f=a[3][1]-1|0,h=0;
          if(!(f<0))
           {var c=h;
            for(;;)
             {var j=d(d(a[2],b)[b+1],c)[c+1];
              j.onclick=t(function(a){m.alert("GAME OVER");return s});
              var k=c+1|0;
              if(f!==c){var c=k;continue}
              break}}
          var i=b+1|0;
          if(e!==b){var b=i;continue}
          break}}
      return 0}
    var j=m.document;
    function Z(a,b)
     {var e=j.createDocumentFragment();
      g(e,j.createTextNode(a.toString()));
      var d=as([0,"text"],0,j);
      d.value=c(f+b[1]).toString();
      d.onchange=
      t
       (function(a)
         {try {b[1]=bS(M(d.value))}catch(f){f=ce(f);if(f[1]!==S)throw f}
          d.value=c(f+b[1]).toString();
          return s});
      g(e,d);
      return e}
    m.onload=
    t
     (function(a)
       {var i=j.getElementById("main");
        if(i==ao)throw [0,ak,bE];
        var aF=[0,15],aG=[0,12],aH=[0,10];
        g(i,Z(bF,aH));
        g(i,y(j));
        g(i,Z(bG,aG));
        g(i,y(j));
        g(i,Z(bH,aF));
        g(i,y(j));
        function k(a)
         {var X=Y(j,bt);
          g(i,X);
          var
           a6=aF[1],
           a7=aH[1],
           az=D(au[1],aG[1]),
           Z=D(au[2],a7),
           aA=D(1,a6),
           aB=ae(az,Z),
           aW=bT(aB,aA)?aB:aA,
           b=[0,az,Z,aW],
           aq=[0,(ca(0)*$|0)%1e5|0],
           ag=0===aq.length-1?[0,0]:aq,
           ah=ag.length-1,
           k=0;
          for(;;)
           {d(h[1],k)[k+1]=k;
            var aS=k+1|0;
            if(54!==k){var k=aS;continue}
            var P=[0,bk],ai=54+D(55,ah)|0,aO=0;
            if(!(ai<0))
             {var q=aO;
              for(;;)
               {var A=q%55|0,ak=ad(q,ah),aP=d(ag,ak)[ak+1],af=T(P[1],c(f+aP));
                P[1]=bU(af,0,o(af));
                var
                 B=P[1],
                 aN=((R(B,0)+(R(B,1)<<8)|0)+(R(B,2)<<16)|0)+(R(B,3)<<24)|0,
                 aQ=(d(h[1],A)[A+1]^aN)&I;
                d(h[1],A)[A+1]=aQ;
                var aR=q+1|0;
                if(ai!==q){var q=aR;continue}
                break}}
            h[2]=0;
            var
             aX=0,
             aY=ae(b[2],b[1])-b[3]|0,
             aZ=0,
             a0=O(Z,[0]),
             as=function(a){return [0,0,0,0,0]},
             C=ae(b[1],b[2]),
             r=[0,0],
             aU=b[3];
            a:
            for(;;)
             {var N=0,M=r[1];
              for(;;)
               {if(M){var N=N+1|0,M=M[2];continue}
                if(N<aU)
                 {if(!(I<C))
                   if(0<C)
                    for(;;)
                     {h[2]=(h[2]+1|0)%55|0;
                      var
                       am=h[2],
                       an=d(h[1],am)[am+1],
                       ao=(h[2]+24|0)%55|0,
                       Q=(d(h[1],ao)[ao+1]+(an^(an>>>25|0)&31)|0)&I,
                       ap=h[2];
                      d(h[1],ap)[ap+1]=Q;
                      var W=ad(Q,C);
                      if(((I-C|0)+1|0)<(Q-W|0))continue;
                      var z=r[1];
                      for(;;)
                       {if(z)
                         {var aM=z[2],ac=0===bK(z[1],W)?1:0;
                          if(!ac){var z=aM;continue}
                          var ar=ac}
                        else
                         var ar=0;
                        if(!ar)r[1]=[0,W,r[1]];
                        continue a}}
                  throw [0,S,bl]}
                var aT=r[1],aV=as(0),l=aj(b[1],b[2],aV);
                av
                 (b,
                  function(a)
                   {var b=a[2],c=a[1],e=as(0);return d(d(l,c)[c+1],b)[b+1]=e});
                V
                 (function(a)
                   {var c=ad(a,b[2]),e=bM(a,b[2]);
                    d(d(l,e)[e+1],c)[c+1][1]=1;
                    return 0},
                  aT);
                av
                 (b,
                  function(a)
                   {var c=a[2],e=a[1];
                    if(d(d(l,e)[e+1],c)[c+1][1])return 0;
                    var f=[0,0];
                    function g(a)
                     {var b=a[2],c=a[1];
                      return d(d(l,c)[c+1],b)[b+1][1]?(f[1]++,0):0}
                    V(g,aw(b,[0,e,c]));
                    var h=f[1];
                    d(d(l,e)[e+1],c)[c+1][4]=h;
                    return 0});
                var
                 e=[0,l,a0,b,aZ,aY,aX],
                 E=[0,0],
                 n=u.createDocumentFragment();
                g(n,u.createTextNode("Mode : "));
                var v=at(u);
                g(n,v);
                v.src=aa;
                v.onclick=
                t
                 (function(a)
                   {if(0===E[1]){E[1]=1;v.src=a3}else{E[1]=0;v.src=aa}return s});
                g(n,y(u));
                var aC=e[3][2]-1|0,a1=0;
                if(!(aC<0))
                 {var p=a1;
                  for(;;)
                   {var _=[0,0],aD=e[3][1]-1|0,a2=0;
                    if(!(aD<0))
                     {var H=a2;
                      for(;;)
                       {var w=at(u);
                        _[1]=[0,w,_[1]];
                        w.src=aI;
                        w.onclick=
                        t
                         (function(f,b,c)
                            {return function(a)
                              {if(0===E[1])
                                {if(!d(d(e[1],b)[b+1],f)[f+1][2])
                                  if(e[6])
                                   {if(d(d(e[1],b)[b+1],f)[f+1][3])
                                     {e[4]=e[4]-1|0;d(d(e[1],b)[b+1],f)[f+1][3]=0}
                                    else
                                     {e[4]=e[4]+1|0;d(d(e[1],b)[b+1],f)[f+1][3]=1}
                                    var k=d(d(e[1],b)[b+1],f)[f+1];
                                    F(d(d(e[2],f)[f+1],b)[b+1],k)}
                                  else
                                   if(!d(d(e[1],b)[b+1],f)[f+1][3])
                                    if(d(d(e[1],b)[b+1],f)[f+1][1])
                                     {ax(e);ay(e);m.alert("YOU LOSE")}
                                    else
                                     {var
                                       l=
                                        function(a)
                                         {var b=a[2],c=a[1];
                                          d(d(e[1],c)[c+1],b)[b+1][2]=1;
                                          var f=d(d(e[1],c)[c+1],b)[b+1];
                                          F(d(d(e[2],b)[b+1],c)[c+1],f);
                                          e[5]=e[5]-1|0;
                                          return 0},
                                       i=e[3],
                                       n=e[1],
                                       h=aj(i[1],i[2],0),
                                       j=
                                        function(a)
                                         {var e=a;
                                          for(;;)
                                           {if(e)
                                             {var i=e[2],f=e[1],b=f[2],c=f[1],g=d(d(n,c)[c+1],b)[b+1];
                                              if(!g[1])
                                               if(!g[3])
                                                if(!g[2])
                                                 if(!d(d(h,c)[c+1],b)[b+1])
                                                  {var k=j(i),l=k[2],m=k[1];
                                                   d(d(h,c)[c+1],b)[b+1]=1;
                                                   return 0===g[4]?[0,m,[0,f,l]]:[0,[0,f,m],l]}
                                              var e=i;
                                              continue}
                                            return bx}},
                                       g=
                                        function(a)
                                         {if(a)
                                           {var c=a[2],b=a[1],e=b[2],f=b[1];
                                            if(0===d(d(n,f)[f+1],e)[e+1][4])
                                             {var h=j(aw(i,b)),k=h[1];return U([0,b,k],g(U(h[2],c)))}
                                            return [0,b,g(c)]}
                                          return 0};
                                      d(d(h,b)[b+1],f)[f+1]=1;
                                      V(l,g([0,[0,b,f],0]));
                                      if(0===e[5]){ax(e);ay(e);m.alert("YOU WIN")}}}
                               else
                                {var o=1-d(d(e[1],b)[b+1],f)[f+1][3];
                                 d(d(e[1],b)[b+1],f)[f+1][3]=o;
                                 F(c,d(d(e[1],b)[b+1],f)[f+1])}
                               return s}}
                           (p,H,w));
                        g(n,w);
                        var a5=H+1|0;
                        if(aD!==H){var H=a5;continue}
                        break}}
                    g(n,y(u));
                    var G=al(_[1]);
                    if(G)
                     {var K=0,J=G,aJ=G[2],aK=G[1];
                      for(;;)
                       {if(J){var K=K+1|0,J=J[2];continue}
                        var ab=O(K,aK),L=1,x=aJ;
                        for(;;)
                         {if(x){var aL=x[2];ab[L+1]=x[1];var L=L+1|0,x=aL;continue}
                          var aE=ab;
                          break}
                        break}}
                    else
                     var aE=[0];
                    d(e[2],p)[p+1]=aE;
                    var a4=p+1|0;
                    if(aC!==p){var p=a4;continue}
                    break}}
                X.style.lineHeight="0";
                g(X,n);
                return s}}}}
        var e=j.createDocumentFragment(),b=as([0,"submit"],0,j);
        b.value="nouvelle partie";
        b.onclick=t(k);
        g(e,b);
        g(i,e);
        return s});
    function bf(a)
     {var b=a;
      for(;;)
       {if(b){var c=b[2],d=b[1];try {bV(d)}catch(f){}var b=c;continue}
        return 0}}
    bf(bX(0));
    return}
  (function(){return this}()));

//# sourceMappingURL=minesweeper.map