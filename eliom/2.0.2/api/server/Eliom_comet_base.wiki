=Module <<a_api_type subproject="server" | module Eliom_comet_base >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Eliom_comet_base>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api subproject="server" text=".." | module Eliom_comet_base >><<span class="ocsforge_color_keyword"|end>>>>~None means ~'newest channel~'

----
<<pre class="ocsforge_color odocwiki_code" id="TYPEchan_id"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|chan~_id>>>><<pre id="VALstring_of_chan_id" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|string~_of~_chan~_id>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api subproject="server" text="chan_id" | type Eliom_comet_base.chan_id >> <<span class="ocsforge_color_delimiter"| -> >> string>>>><<pre id="VALchan_id_of_string" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|chan~_id~_of~_string>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api subproject="server" text="chan_id" | type Eliom_comet_base.chan_id >>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEposition"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|position>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Newest>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|After>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Last>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int option>>>>>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_position" | module Eliom_comet_base.Json_position >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = position>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEcomet_stateless_request"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|comet~_stateless~_request>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>string * <<a_api subproject="server" text="position" | type Eliom_comet_base.position >><<span class="ocsforge_color_delimiter"| ) >> array>> >><<div class="odocwiki_info"|~None means ~'newest channel~'
>>
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_comet_stateless_request" | module Eliom_comet_base.Json_comet_stateless_request >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = (string * position) array>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEcommand"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|command>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Register>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|string>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Close>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|string>>>>>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_command" | module Eliom_comet_base.Json_command >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = command>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEcomet_statefull_request"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|comet~_statefull~_request>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Request_data>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Commands>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<a_api subproject="server" text="command" | type Eliom_comet_base.command >> array>>>>>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_comet_statefull_request" | module Eliom_comet_base.Json_comet_statefull_request >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = comet_statefull_request>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEcomet_request"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|comet~_request>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Stateless>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<a_api subproject="server" text="comet_stateless_request" | type Eliom_comet_base.comet_stateless_request >>>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Statefull>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<a_api subproject="server" text="comet_statefull_request" | type Eliom_comet_base.comet_statefull_request >>>>>>>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_comet_request" | module Eliom_comet_base.Json_comet_request >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = comet_request>>>><<pre id="VALcomet_request_param" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|comet~_request~_param>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="comet_request" | type Eliom_comet_base.comet_request >>, [ `WithoutSuffix ],\\   [ `One of <<a_api subproject="server" text="comet_request" | type Eliom_comet_base.comet_request >> <<a_api subproject="server" text="Eliom_parameters.caml" | type Eliom_parameters.caml >> ]\\   <<a_api subproject="server" text="Eliom_parameters.param_name" | type Eliom_parameters.param_name >><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api subproject="server" text="Eliom_parameters.params_type" | type Eliom_parameters.params_type >>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEchannel_data"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|channel~_data>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Data>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|'a>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Full>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Closed>>>>>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_channel_data" | module Eliom_comet_base.Json_channel_data >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_sig_block"|<<span class="ocsforge_color_keyword"|functor>> <<span class="ocsforge_color_delimiter"|(>>M_a <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="ocsforge_color_delimiter"|)>> <<span class="ocsforge_color_delimiter"|-~>>> \\  <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = M_a.a channel_data>>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEanswer"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|answer>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Stateless_messages>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>string * <<span class="ocsforge_color_delimiter"| ( >>string * int<<span class="ocsforge_color_delimiter"| ) >> <<a_api subproject="server" text="channel_data" | type Eliom_comet_base.channel_data >><<span class="ocsforge_color_delimiter"| ) >> array>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Statefull_messages>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>string * string <<a_api subproject="server" text="channel_data" | type Eliom_comet_base.channel_data >><<span class="ocsforge_color_delimiter"| ) >> array>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Timeout>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Process_closed>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Comet_error>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|string>>>>>>>>>><<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<a_api subproject="server" text="Json_answer" | module Eliom_comet_base.Json_answer >> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Deriving_Json.Json>>>><<span class="odocwiki_type"| with type a = answer>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEcomet_service"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|comet~_service>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, <<a_api subproject="server" text="comet_request" | type Eliom_comet_base.comet_request >>, <<a_api subproject="server" text="Eliom_services.service_kind" | type Eliom_services.service_kind >>,\\   [ `WithoutSuffix ], unit,\\   [ `One of <<a_api subproject="server" text="comet_request" | type Eliom_comet_base.comet_request >> <<a_api subproject="server" text="Eliom_parameters.caml" | type Eliom_parameters.caml >> ]\\   <<a_api subproject="server" text="Eliom_parameters.param_name" | type Eliom_parameters.param_name >>, <<a_api subproject="server" text="Eliom_services.registrable" | type Eliom_services.registrable >>,\\   <<a_api subproject="server" text="Eliom_output.http_service" | type Eliom_output.http_service >><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api subproject="server" text="Eliom_services.service" | type Eliom_services.service >>>> >><<pre class="ocsforge_color odocwiki_code" id="TYPEinternal_comet_service"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|internal~_comet~_service>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, <<a_api subproject="server" text="comet_request" | type Eliom_comet_base.comet_request >>,\\   <<a_api subproject="server" text="Eliom_services.internal_service_kind" | type Eliom_services.internal_service_kind >>, [ `WithoutSuffix ], \\   unit,\\   [ `One of <<a_api subproject="server" text="comet_request" | type Eliom_comet_base.comet_request >> <<a_api subproject="server" text="Eliom_parameters.caml" | type Eliom_parameters.caml >> ]\\   <<a_api subproject="server" text="Eliom_parameters.param_name" | type Eliom_parameters.param_name >>, [ `Registrable ],\\   <<a_api subproject="server" text="Eliom_output.http_service" | type Eliom_output.http_service >><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api subproject="server" text="Eliom_services.service" | type Eliom_services.service >>>> >><<pre class="ocsforge_color odocwiki_code" id="TYPEstateless_kind"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|stateless~_kind>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|After_kind>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Newest_kind>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Last_kind>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|int option>>>>>>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEwrapped_channel"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|wrapped~_channel>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Statefull_channel>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="comet_service" | type Eliom_comet_base.comet_service >> * 'a <<a_api subproject="server" text="chan_id" | type Eliom_comet_base.chan_id >><<span class="ocsforge_color_delimiter"| ) >>>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Stateless_channel>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|\\    <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="comet_service" | type Eliom_comet_base.comet_service >> * 'a <<a_api subproject="server" text="chan_id" | type Eliom_comet_base.chan_id >> *\\     <<a_api subproject="server" text="stateless_kind" | type Eliom_comet_base.stateless_kind >><<span class="ocsforge_color_delimiter"| ) >>>>>>>>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEbus_send_service"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|bus~_send~_service>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, 'a list, [ `Nonattached of [ `Post ] <<a_api subproject="server" text="Eliom_services.na_s" | type Eliom_services.na_s >> ],\\   [ `WithoutSuffix ], unit,\\   [ `One of 'a list <<a_api subproject="server" text="Eliom_parameters.caml" | type Eliom_parameters.caml >> ] <<a_api subproject="server" text="Eliom_parameters.param_name" | type Eliom_parameters.param_name >>,\\   [ `Registrable ], <<a_api subproject="server" text="Eliom_output.http_service" | type Eliom_output.http_service >><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api subproject="server" text="Eliom_services.service" | type Eliom_services.service >>>> >><<pre class="ocsforge_color odocwiki_code" id="TYPEwrapped_bus"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|wrapped~_bus>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|\\  'a <<a_api subproject="server" text="wrapped_channel" | type Eliom_comet_base.wrapped_channel >> *\\  'a <<a_api subproject="server" text="bus_send_service" | type Eliom_comet_base.bus_send_service >>>> >>