=Module <<a_api_type | module Lwt_process >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Lwt_process>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Lwt_process >><<span class="ocsforge_color_keyword"|end>>>>~Process management

----

~This modules allow you to spawn processes and communicate with them~.
<<pre class="ocsforge_color odocwiki_code" id="TYPEcommand"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|command>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|string * string array>> >><<div class="odocwiki_info"|~A command~. ~The first field is the name of the executable and
        the second is the list of arguments~. ~For example~:


        
<<code language='ocaml'|          ("ls", [|"ls"; "-l"|])
        >>
~.


        ~Notes~:


* if the name is the empty string~, then the first argument
        will be used~. ~You should specify a name only if you do not
        want the executable to be searched in the ~P~A~T~H~. ~On ~Windows the
        only way to enable automatic seach in ~P~A~T~H is to pass an empty
        name~.

* it is possible to ``inline~'~' an argument~, i~.e~. split it into
        multiple arguments~. ~To do that prefix it with <<span class="odocwiki_inlinecode"|"~\~0~0~0">>~. ~For
        example~:

        
<<code language='ocaml'|          ("", [|"echo"; "\000foo bar"|])
        >>



        is the same as~:


        
<<code language='ocaml'|          ("", [|"echo"; "foo"; "bar"|])
        >>
~.
>>
<<pre id="VALshell" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|shell>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >>>>>><<div class="odocwiki_info"|~A command executed with the shell~. ~(with <<span class="odocwiki_inlinecode"|"~/bin~/sh ~-c ~<cmd~>">> on
      ~Unix and <<span class="odocwiki_inlinecode"|"cmd~.exe ~/c ~<cmd~>">> on ~Windows~)~.
>>

~All the following functions take an optionnal argument
    <<span class="odocwiki_inlinecode"|timeout>>~. ~If specified~, after expiration~, the process will be
    sent a <<span class="odocwiki_inlinecode"|~Unix~.sigkill>> signal and channels will be closed~.


======@@id="6_Highlevelfunctions"@@~High~-level functions======



<<div class="h8"| ~Redirections>>

<<pre class="ocsforge_color odocwiki_code" id="TYPEredirection"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|redirection>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|\\  [ `Close\\  | `Dev_null\\  | `FD_copy of <<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>>\\  | `FD_move of <<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|file_descr>>\\  | `Keep ]>> >><<div class="odocwiki_info"|~A file descriptor redirection~. ~It describe how standard file
    descriptors are redirected in the child process~.
>>

~Note~: all optionnal redirection argumetns default to <<span class="odocwiki_inlinecode"|`~Keep>>


<<div class="h8"| ~Executing>>

<<pre id="VALexec" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|exec>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|process_status>> <<a_api text="Lwt.t" | type Lwt.t >>>>>><<div class="odocwiki_info"|~Executes the given command and returns its exit status~.
>>


<<div class="h8"| ~Receiving>>

<<pre id="VALpread" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pread>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpread_chars" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pread~_chars>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> char <<a_api text="Lwt_stream.t" | type Lwt_stream.t >>>>>><<pre id="VALpread_line" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pread~_line>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpread_lines" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pread~_lines>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt_stream.t" | type Lwt_stream.t >>>>>>

<<div class="h8"| ~Sending>>

<<pre id="VALpwrite" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pwrite>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_delimiter"| -> >> unit <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpwrite_chars" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pwrite~_chars>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> char <<a_api text="Lwt_stream.t" | type Lwt_stream.t >> <<span class="ocsforge_color_delimiter"| -> >> unit <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpwrite_line" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pwrite~_line>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_delimiter"| -> >> unit <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpwrite_lines" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pwrite~_lines>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt_stream.t" | type Lwt_stream.t >> <<span class="ocsforge_color_delimiter"| -> >> unit <<a_api text="Lwt.t" | type Lwt.t >>>>>>

<<div class="h8"| ~Mapping>>

<<pre id="VALpmap" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pmap>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpmap_chars" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pmap~_chars>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> char <<a_api text="Lwt_stream.t" | type Lwt_stream.t >> <<span class="ocsforge_color_delimiter"| -> >> char <<a_api text="Lwt_stream.t" | type Lwt_stream.t >>>>>><<pre id="VALpmap_line" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pmap~_line>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALpmap_lines" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|pmap~_lines>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt_stream.t" | type Lwt_stream.t >> <<span class="ocsforge_color_delimiter"| -> >> string <<a_api text="Lwt_stream.t" | type Lwt_stream.t >>>>>>

======@@id="6_Spawningprocesses"@@~Spawning processes======

<<pre class="ocsforge_color odocwiki_code" id="TYPEstate"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|state>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Running>>>><<span class="odocwiki_comments"|<<span class="odocwiki_comments_open"|(*>> <<span|~The process is still running>><<span class="odocwiki_comments_close"| ~*)>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Exited>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Unix>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|process_status>>>>>><<span class="odocwiki_comments"|<<span class="odocwiki_comments_open"|(*>> <<span|~The process has exited>><<span class="odocwiki_comments_close"| ~*)>>>>>>>>>><<div class="odocwiki_info"|~State of a sub~-process
>>
<<pre class="ocsforge_color odocwiki_code"|<<span name="TYPEprocess_none"|<<span class="ocsforge_color_keyword"|class>> <<a_api text="process_none" | class Lwt_process.process_none >>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\<<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\<<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>>> <<span class="ocsforge_color_keyword"|object>><<a_api text=".." | class Lwt_process.process_none >><<span class="ocsforge_color_keyword"|end>>>><<pre id="VALopen_process_none" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|open~_process~_none>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="process_none" | class type Lwt_process.process_none >>>>>><<pre id="VALwith_process_none" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|with~_process~_none>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api text="process_none" | class type Lwt_process.process_none >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span name="TYPEprocess_in"|<<span class="ocsforge_color_keyword"|class>> <<a_api text="process_in" | class Lwt_process.process_in >>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\<<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>>> <<span class="ocsforge_color_keyword"|object>><<a_api text=".." | class Lwt_process.process_in >><<span class="ocsforge_color_keyword"|end>>>><<pre id="VALopen_process_in" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|open~_process~_in>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="process_in" | class type Lwt_process.process_in >>>>>><<pre id="VALwith_process_in" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|with~_process~_in>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdin: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api text="process_in" | class type Lwt_process.process_in >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span name="TYPEprocess_out"|<<span class="ocsforge_color_keyword"|class>> <<a_api text="process_out" | class Lwt_process.process_out >>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\<<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>>> <<span class="ocsforge_color_keyword"|object>><<a_api text=".." | class Lwt_process.process_out >><<span class="ocsforge_color_keyword"|end>>>><<pre id="VALopen_process_out" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|open~_process~_out>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="process_out" | class type Lwt_process.process_out >>>>>><<pre id="VALwith_process_out" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|with~_process~_out>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stdout: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api text="process_out" | class type Lwt_process.process_out >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span name="TYPEprocess"|<<span class="ocsforge_color_keyword"|class>> <<a_api text="process" | class Lwt_process.process >>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\<<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>>> <<span class="ocsforge_color_keyword"|object>><<a_api text=".." | class Lwt_process.process >><<span class="ocsforge_color_keyword"|end>>>><<pre id="VALopen_process" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|open~_process>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="process" | class type Lwt_process.process >>>>>><<pre id="VALwith_process" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|with~_process>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?stderr: >><<a_api text="redirection" | type Lwt_process.redirection >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >><<a_api text="process" | class type Lwt_process.process >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre class="ocsforge_color odocwiki_code"|<<span name="TYPEprocess_full"|<<span class="ocsforge_color_keyword"|class>> <<a_api text="process_full" | class Lwt_process.process_full >>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\<<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>>> <<span class="ocsforge_color_keyword"|object>><<a_api text=".." | class Lwt_process.process_full >><<span class="ocsforge_color_keyword"|end>>>><<pre id="VALopen_process_full" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|open~_process~_full>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="process_full" | class type Lwt_process.process_full >>>>>><<pre id="VALwith_process_full" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|with~_process~_full>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?timeout: >>float <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?env: >>string array <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="command" | type Lwt_process.command >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api text="process_full" | class type Lwt_process.process_full >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>>