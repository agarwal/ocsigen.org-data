<<code language="ocaml" | functor (C : Eba_config.Session) ->
  functor (Groups : Eba_sigs.Groups) ->
    sig
      type group = Groups.t
      val connect : int64 -> unit Lwt.t
      val disconnect : unit -> unit Lwt.t
      val connected_fun :
        ?allow:group list ->
        ?deny:group list ->
        ?deny_fun:(int64 option -> 'c Lwt.t) ->
        (int64 -> 'a -> 'b -> 'c Lwt.t) -> 'a -> 'b -> 'c Lwt.t
      val connected_rpc :
        ?allow:group list ->
        ?deny:group list ->
        ?deny_fun:(int64 option -> 'b Lwt.t) ->
        (int64 -> 'a -> 'b Lwt.t) -> 'a -> 'b Lwt.t
      module Opt :
        sig
          val connected_fun :
            ?allow:group list ->
            ?deny:group list ->
            ?deny_fun:(int64 option -> 'c Lwt.t) ->
            (int64 option -> 'a -> 'b -> 'c Lwt.t) -> 'a -> 'b -> 'c Lwt.t
          val connected_rpc :
            ?allow:group list ->
            ?deny:group list ->
            ?deny_fun:(int64 option -> 'b Lwt.t) ->
            (int64 option -> 'a -> 'b Lwt.t) -> 'a -> 'b Lwt.t
        end
    end >>