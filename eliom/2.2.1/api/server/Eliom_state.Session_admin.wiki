=Module <<a_api_type subproject="server" | module Eliom_state.Session_admin >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Session_admin>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api subproject="server" text=".." | module Eliom_state.Session_admin >><<span class="ocsforge_color_keyword"|end>>>>
----
<<pre class="ocsforge_color odocwiki_code" id="TYPEtimeout"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|timeout>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|TGlobal>>>><<span class="odocwiki_comments"|<<span class="odocwiki_comments_open"|(*>> <<span|see global setting>><<span class="odocwiki_comments_close"| ~*)>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|TNone>>>><<span class="odocwiki_comments"|<<span class="odocwiki_comments_open"|(*>> <<span|explicitly set no timeout>><<span class="odocwiki_comments_close"| ~*)>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|TSome>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|float>>>>>>>>>><<div class="odocwiki_info"|~Type used to describe session timeouts
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEservice_session"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|service~_session>>>><<div class="odocwiki_info"|timeout duration in seconds
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEdata_session"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|data~_session>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEpersistent_session"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|persistent~_session>>>><<pre id="VALclose_service_session" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|close~_service~_session>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?close_group: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALclose_volatile_data_session" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|close~_volatile~_data~_session>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?close_group: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALclose_persistent_data_session" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|close~_persistent~_data~_session>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?close_group: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALget_volatile_session_data" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_volatile~_session~_data>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| table: >>'a <<a_api subproject="server" text="Eliom_state.volatile_table" | type Eliom_state.volatile_table >> <<span class="ocsforge_color_delimiter"| -> >> 'a>>>><<div class="odocwiki_info"|~Raises <<span class="odocwiki_inlinecode"|~Not~_found>> if no data in the table for the session~.
>>
<<pre id="VALget_persistent_session_data" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_persistent~_session~_data>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| table: >>'a <<a_api subproject="server" text="Eliom_state.persistent_table" | type Eliom_state.persistent_table >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Fails with lwt exception <<span class="odocwiki_inlinecode"|~Not~_found>>
      if no data in the table for the session~.
>>
<<pre id="VALremove_volatile_session_data" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|remove~_volatile~_session~_data>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| table: >>'a <<a_api subproject="server" text="Eliom_state.volatile_table" | type Eliom_state.volatile_table >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALremove_persistent_session_data" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|remove~_persistent~_session~_data>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| table: >>'a <<a_api subproject="server" text="Eliom_state.persistent_table" | type Eliom_state.persistent_table >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALget_service_scope_name" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_service~_scope~_name>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="Eliom_common.scope_name" | type Eliom_common.scope_name >>>>>><<pre id="VALget_volatile_data_scope_name" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_volatile~_data~_scope~_name>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="Eliom_common.scope_name" | type Eliom_common.scope_name >>>>>><<pre id="VALget_persistent_data_scope_name" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_persistent~_data~_scope~_name>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="Eliom_common.scope_name" | type Eliom_common.scope_name >>>>>><<pre id="VALget_service_session_cookie_scope" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_service~_session~_cookie~_scope>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="Eliom_common.cookie_scope" | type Eliom_common.cookie_scope >>>>>><<pre id="VALget_volatile_data_session_cookie_scope" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_volatile~_data~_session~_cookie~_scope>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="Eliom_common.cookie_scope" | type Eliom_common.cookie_scope >>>>>><<pre id="VALget_persistent_data_session_cookie_scope" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_persistent~_data~_session~_cookie~_scope>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="Eliom_common.cookie_scope" | type Eliom_common.cookie_scope >>>>>><<pre id="VALset_service_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_service~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  float option <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALset_volatile_data_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_volatile~_data~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >> float option <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALset_persistent_data_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_persistent~_data~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  float option <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALget_service_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_service~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="timeout" | type Eliom_state.Session_admin.timeout >>>>>><<pre id="VALget_volatile_data_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_volatile~_data~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="timeout" | type Eliom_state.Session_admin.timeout >>>>>><<pre id="VALget_persistent_data_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|get~_persistent~_data~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api subproject="server" text="timeout" | type Eliom_state.Session_admin.timeout >>>>>><<pre id="VALunset_service_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|unset~_service~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALunset_volatile_data_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|unset~_volatile~_data~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<pre id="VALunset_persistent_data_session_timeout" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|unset~_persistent~_data~_session~_timeout>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| session: >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALiter_service_sessions" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|iter~_service~_sessions>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Iterator on service sessions~. <<span class="odocwiki_inlinecode"|~Lwt~_unix~.yield>> is called automatically
     after each iteration~.
>>
<<pre id="VALiter_volatile_data_sessions" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|iter~_volatile~_data~_sessions>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Iterator on data sessions~. <<span class="odocwiki_inlinecode"|~Lwt~_unix~.yield>> is called automatically
      after each iteration~.
>>
<<pre id="VALiter_persistent_data_sessions" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|iter~_persistent~_data~_sessions>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Iterator on persistent sessions~. <<span class="odocwiki_inlinecode"|~Lwt~_unix~.yield>> is called automatically
      after each iteration~.
>>
<<pre id="VALfold_service_sessions" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|fold~_service~_sessions>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="service_session" | type Eliom_state.Session_admin.service_session >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  'a <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Iterator on service sessions~. <<span class="odocwiki_inlinecode"|~Lwt~_unix~.yield>> is called automatically
      after each iteration~.
>>
<<pre id="VALfold_volatile_data_sessions" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|fold~_volatile~_data~_sessions>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="data_session" | type Eliom_state.Session_admin.data_session >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  'a <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Iterator on data sessions~. <<span class="odocwiki_inlinecode"|~Lwt~_unix~.yield>> is called automatically
     after each iteration~.
>>
<<pre id="VALfold_persistent_data_sessions" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|fold~_persistent~_data~_sessions>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api subproject="server" text="persistent_session" | type Eliom_state.Session_admin.persistent_session >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  'a <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~Iterator on persistent sessions~. <<span class="odocwiki_inlinecode"|~Lwt~_unix~.yield>> is called automatically
     after each iteration~.
>>
