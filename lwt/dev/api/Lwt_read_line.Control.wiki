=Module <<a_api_type | module Lwt_read_line.Control >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Control>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Lwt_read_line.Control >><<span class="ocsforge_color_keyword"|end>>>>~Controlling a running read~-line instance

----
<<pre class="ocsforge_color odocwiki_code" id="TYPEt"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|t>>>><<div class="odocwiki_info"|~Type of a running read~-line instance~, returning a value of
        type <<span class="odocwiki_inlinecode"|~'a>>
>>


==@@id="2_Control"@@~Control==

<<pre id="VALresult" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|result>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="t" | type Lwt_read_line.Control.t >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >>>>>><<div class="odocwiki_info"|~Threads waiting for the read~-line instance to terminates
>>
<<pre id="VALsend_command" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|send~_command>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="t" | type Lwt_read_line.Control.t >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Lwt_read_line.Command.t" | type Lwt_read_line.Command.t >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|send~_command instance command>> sends the given command to the
        read~-line instance
>>
<<pre id="VALaccept" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|accept>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="t" | type Lwt_read_line.Control.t >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|accept instance ~= send~_command instance ~Command~.~Accept~_line>>
>>
<<pre id="VALinterrupt" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|interrupt>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="t" | type Lwt_read_line.Control.t >> <<span class="ocsforge_color_delimiter"| -> >> unit>>>><<div class="odocwiki_info"|<<span class="odocwiki_inlinecode"|accept instance ~= send~_command instance ~Command~.~Break>>
>>
<<pre id="VALhide" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|hide>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="t" | type Lwt_read_line.Control.t >> <<span class="ocsforge_color_delimiter"| -> >> unit <<a_api text="Lwt.t" | type Lwt.t >>>>>><<div class="odocwiki_info"|~Hides everything ~(prompt~, user input~, completion box~) until
        <<a_api | val Lwt_read_line.Control.show >> is called~.
>>
<<pre id="VALshow" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|show>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|'a <<a_api text="t" | type Lwt_read_line.Control.t >> <<span class="ocsforge_color_delimiter"| -> >> unit <<a_api text="Lwt.t" | type Lwt.t >>>>>><<div class="odocwiki_info"|~Un~-hide everything
>>

~Note~: in case the input is not a terminal~, read~-line instances
      are not controllable~. i~.e~. <<a_api | val Lwt_read_line.Control.accept >>~, <<span class="odocwiki_inlinecode"|refresh>>~, ~.~.~. have no
      effect~.


==@@id="2_Creationofreadlineinstances"@@~Creation of read~-line instances==

<<pre class="ocsforge_color odocwiki_code" id="TYPEprompt"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|prompt>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|\\  <<a_api text="Lwt_read_line.Engine.state" | type Lwt_read_line.Engine.state >> <<span class="ocsforge_color_uid"|React>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|signal>> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="Lwt_term.styled_text" | type Lwt_term.styled_text >> <<span class="ocsforge_color_uid"|React>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|signal>>>> >><<div class="odocwiki_info"|~The prompt a signal which may depends on the engine state
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEstate"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|state>>>><<div class="odocwiki_info"|~State of an instance
>>
<<pre id="VALengine_state" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|engine~_state>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="state" | type Lwt_read_line.Control.state >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Lwt_read_line.Engine.state" | type Lwt_read_line.Engine.state >>>>>><<div class="odocwiki_info"|~Return the engine state of the given state
>>
<<pre id="VALrender_state" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|render~_state>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="state" | type Lwt_read_line.Control.state >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Lwt_read_line.Terminal.state" | type Lwt_read_line.Terminal.state >>>>>><<div class="odocwiki_info"|~Return the rendering state of the given state
>>
<<pre id="VALmake" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|make>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?history: >><<a_api text="Lwt_read_line.history" | type Lwt_read_line.history >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?complete: >><<a_api text="Lwt_read_line.completion" | type Lwt_read_line.completion >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?clipboard: >><<a_api text="Lwt_read_line.clipboard" | class type Lwt_read_line.clipboard >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?mode: >>[ `classic | `none | `real_time ] <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?map_text: >><<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_uid"|Text>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_uid"|Text>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?filter: >><<span class="ocsforge_color_delimiter"| ( >><<a_api text="state" | type Lwt_read_line.Control.state >> <<span class="ocsforge_color_delimiter"| -> >>\\           <<a_api text="Lwt_read_line.Command.t" | type Lwt_read_line.Command.t >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Lwt_read_line.Command.t" | type Lwt_read_line.Command.t >> <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| map_result: >><<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_uid"|Text>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="Lwt.t" | type Lwt.t >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?prompt: >><<a_api text="prompt" | type Lwt_read_line.Control.prompt >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="t" | type Lwt_read_line.Control.t >>>>>><<div class="odocwiki_info"|~Creates a new read~-line instance with the given
        parameters~. <<span class="odocwiki_inlinecode"|filter>> is called to handle commands~. ~You can
        return <<span class="odocwiki_inlinecode"|~Command~.~Nop>> to drop a command~.
>>


==@@id="2_Predefinedinstances"@@~Predefined instances==

<<pre id="VALread_line" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|read~_line>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?history: >><<a_api text="Lwt_read_line.history" | type Lwt_read_line.history >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?complete: >><<a_api text="Lwt_read_line.completion" | type Lwt_read_line.completion >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?clipboard: >><<a_api text="Lwt_read_line.clipboard" | class type Lwt_read_line.clipboard >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?mode: >><<a_api text="Lwt_read_line.completion_mode" | type Lwt_read_line.completion_mode >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?prompt: >><<a_api text="prompt" | type Lwt_read_line.Control.prompt >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_uid"|Text>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<a_api text="t" | type Lwt_read_line.Control.t >> <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALread_password" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|read~_password>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?clipboard: >><<a_api text="Lwt_read_line.clipboard" | class type Lwt_read_line.clipboard >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?style: >><<a_api text="Lwt_read_line.password_style" | type Lwt_read_line.password_style >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?prompt: >><<a_api text="prompt" | type Lwt_read_line.Control.prompt >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_uid"|Text>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<a_api text="t" | type Lwt_read_line.Control.t >> <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALread_keyword" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|read~_keyword>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?history: >><<a_api text="Lwt_read_line.history" | type Lwt_read_line.history >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?case_sensitive: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?mode: >><<a_api text="Lwt_read_line.completion_mode" | type Lwt_read_line.completion_mode >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?prompt: >><<a_api text="prompt" | type Lwt_read_line.Control.prompt >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| values: >><<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_uid"|Text>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> * 'value<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_delimiter"| -> >> 'value <<a_api text="t" | type Lwt_read_line.Control.t >> <<a_api text="Lwt.t" | type Lwt.t >>>>>><<pre id="VALread_yes_no" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|read~_yes~_no>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?history: >><<a_api text="Lwt_read_line.history" | type Lwt_read_line.history >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?mode: >><<a_api text="Lwt_read_line.completion_mode" | type Lwt_read_line.completion_mode >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?prompt: >><<a_api text="prompt" | type Lwt_read_line.Control.prompt >> <<span class="ocsforge_color_delimiter"| -> >>\\  unit <<span class="ocsforge_color_delimiter"| -> >> bool <<a_api text="t" | type Lwt_read_line.Control.t >> <<a_api text="Lwt.t" | type Lwt.t >>>>>>