<<code language="ocaml" | sig
  type state = CONNECTING | OPEN | CLOSED
  type ('a, 'b) handler
  class type ['a] messageEvent =
    object
      method _type : Js.js_string Js.t Js.readonly_prop
      method currentTarget : 'a Js.t Js.opt Js.readonly_prop
      method data : Js.js_string Js.t Js.readonly_prop
      method lastEventId : Js.js_string Js.t Js.readonly_prop
      method origin : Js.js_string Js.t Js.readonly_prop
      method srcElement : 'a Js.t Js.opt Js.readonly_prop
      method target : 'a Js.t Js.opt Js.readonly_prop
    end
  class type eventSource =
    object ('a)
      method addEventListener :
        Js.js_string Js.t ->
        ('a Js.t, 'a EventSource.messageEvent Js.t) EventSource.handler ->
        bool Js.t -> unit Js.meth
      method close : unit Js.meth
      method onerror :
        ('a Js.t, 'a EventSource.messageEvent Js.t) EventSource.handler
        Js.writeonly_prop
      method onmessage :
        ('a Js.t, 'a EventSource.messageEvent Js.t) EventSource.handler
        Js.writeonly_prop
      method onopen :
        ('a Js.t, 'a EventSource.messageEvent Js.t) EventSource.handler
        Js.writeonly_prop
      method readyState : EventSource.state Js.readonly_prop
      method url : string Js.t Js.readonly_prop
      method withCredentials : bool Js.t Js.readonly_prop
    end
  class type options =
    object method withCredentials : bool Js.t Js.writeonly_prop end
  val handler :
    ('this EventSource.messageEvent Js.t -> unit) ->
    ('this, 'this EventSource.messageEvent Js.t) EventSource.handler
  val withCredentials : bool -> EventSource.options Js.t
  val eventSource :
    (Js.js_string Js.t -> EventSource.eventSource Js.t) Js.constr
  val eventSource_options :
    (Js.js_string Js.t ->
     EventSource.options Js.t -> EventSource.eventSource Js.t)
    Js.constr
end >>